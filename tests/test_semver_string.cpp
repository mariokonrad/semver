#include <semver/semver.hpp>
#include <gtest/gtest.h>

namespace {

using semver::semver;

class test_semver_string : public ::testing::Test {};

#define EXPECT_SEMVER_STRING(s) EXPECT_STREQ((s), semver(s).str().c_str())

TEST_F(test_semver_string, strings)
{
	EXPECT_SEMVER_STRING("1.2.3");
	EXPECT_SEMVER_STRING("0.0.0");
	EXPECT_SEMVER_STRING("1.2.3+123");
	EXPECT_SEMVER_STRING("1.2.3+abc123");
	EXPECT_SEMVER_STRING("1.2.3-123");
	EXPECT_SEMVER_STRING("1.2.3-abc123");
	EXPECT_SEMVER_STRING("1.2.3-456+123");
	EXPECT_SEMVER_STRING("1.2.3-456abc+123");
	EXPECT_SEMVER_STRING("1.2.3-abc456+123");
	EXPECT_SEMVER_STRING("1.2.3-456+abc123");
	EXPECT_SEMVER_STRING("1.2.3-456+123abc");
	EXPECT_SEMVER_STRING("1.2.3-abc456+abc123");
	EXPECT_SEMVER_STRING("1.2.3-456abc+abc123");
	EXPECT_SEMVER_STRING("1.2.3-abc456+123abc");
	EXPECT_SEMVER_STRING("1.2.3-456abc+123abc");
	EXPECT_SEMVER_STRING("1.0.0-alpha");
	EXPECT_SEMVER_STRING("1.0.0-alpha.1");
	EXPECT_SEMVER_STRING("1.0.0-alpha.beta");
	EXPECT_SEMVER_STRING("1.0.0-beta.2");
	EXPECT_SEMVER_STRING("1.0.0-beta.11");
	EXPECT_SEMVER_STRING("1.0.0-rc.1");
	EXPECT_SEMVER_STRING("1.0.0-alpha+001");
	EXPECT_SEMVER_STRING("1.0.0+20130313144700");
	EXPECT_SEMVER_STRING("1.0.0-beta+exp.sha.5114f85");
	EXPECT_SEMVER_STRING("1.0.0+21AF26D3--117B344092BD");
	EXPECT_SEMVER_STRING("1.0.0-x.7.z.92");
	EXPECT_SEMVER_STRING("1.0.0-0.3.7");
	EXPECT_SEMVER_STRING("1.0.0-x-y-z.-");
}
}

